<!DOCTYPE HTML>

<html>
<head>
	<!-- Standalone -->
	<link href="datepicker.min.css" rel="stylesheet" />
	<script src="datepicker-full.min.js"></script>

	<link rel="stylesheet" href="analyticsDateRangePicker.css">
	<script type="text/javascript" src="analyticsDateRangePicker.js"></script>

	<style>
		#myPicker {
			margin: 200px auto;
			width: 240px;
			height: 40px;
			border: 1px solid gray;
			border-radius: 4px;
		}
	</style>
</head>
<body>
	<div id="myPicker"></div>

	<script>
		window.onload = () => {
			// let customelem = document.getElementById("myCustomDateRangePicker");
			// let customDateRangePicker = new CustomDateRangePicker(elem);
			// customDateRangePicker = setDate(new Date("01/08/2021"), new Date("01/8/1995"));

			// document.getElementById("dateRangePicker").onclick = () => {
			// 	document.getElementById("before").focus();
			// };

			let myPicker = document.getElementById("myPicker");
			let dateRangePicker = new AnalyticsDateRangePicker(myPicker, {
				startDate: new Date("01/08/2021"),
				endDate: new Date("01/20/2021"),
				menus: [
					{
						menuLabel: 'Last 7 days',
						getDisplayLabel: () => {
							return 'Last 7 days'
						},
						getRange: () => {
							return {
								startDate: new Date("01/01/2021"),
								endDate: new Date()
							};//return the calculated date range object { startDate: x, endDate: y }
						}
					},
					{
						menuLabel: 'Last 14 days',
						getDisplayLabel: () => {
							return 'Last 14 days'
						},
						getRange: () => {
							return {
								startDate: new Date("01/04/2020"),
								endDate: new Date()
							};//return the calculated date range object { startDate: x, endDate: y }
						}
					},
					{
						menuLabel: 'Last 30 days',
						getDisplayLabel: () => {
							return 'Last 30 days'
						},
						getRange: () => {
							return {
								startDate: new Date("01/05/2018"),
								endDate: new Date()
							};//return the calculated date range object { startDate: x, endDate: y }
						}
					}
				]
			});

			//set the default selection to the predefined ranges
			// dateRangePicker.model.selectMenuItem(0);
			// dateRangePicker.updateView();
			dateRangePicker.onUpdateListener = response => {
				console.log(response.startDate);
				console.log(response.endDate);
			};
		};
	</script>
</body>
</html>